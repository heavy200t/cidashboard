<div *ngFor = "let job of jobs">

    <table style="width: 100%; vertical-align: top">
      <caption>
        <div>{{job._id.jobName}}:{{job._id.buildId}}</div>
      </caption>
      <thead>
        <td width="40%">
          <dx-linear-gauge
            [value] = "job.pass"
            style="width: 70%;" >
            <dxo-title text = {{job._id.jobName}}:{{job._id.buildId}}></dxo-title>
            <dxo-value-indicator color="green"></dxo-value-indicator>
            <dxo-scale [endValue] = "job.total"></dxo-scale>
          </dx-linear-gauge>
          <ul>
            <li>Total: {{job.total}} </li>
            <li style="color: green;">Pass: {{getPercent(job.pass, job.total)}}%</li>
            <li style="color: red">Fail: {{getPercent(job.fail, job.total)}}%</li>
            <li style="color: orangered">Unstable: {{getPercent(job.unstable, job.total)}}%</li>
            <li>Start Time: {{job.startTime}}</li>
          </ul>

        <td>
          <dx-pie-chart
            style="height: 300px"
            palette="bright"
            [dataSource]="countByCategory(job)">
            <dxi-series
              argumentField="category"
              valueField="cnt">
            </dxi-series>
            <!--<dxo-size [width]="500"></dxo-size>-->
          </dx-pie-chart>
        </td>
      </thead>
    </table>
    <ag-grid-angular
      style="width: 100%; height: 300px;"
      class="ag-fresh"
      [rowData]="getJobDetails(job)"
      [columnDefs]="columnDefs"
      [enableSorting]="true"
      [enableFilter]="true">
    </ag-grid-angular>
</div>
